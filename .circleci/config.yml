version: 2.1

workflows:
  # System 2: 10invisible - EVEN hours
  system2-even-hours:
    triggers:
      - schedule:
          cron: "0 0,2,4,6,8,10,12,14,16,18,20,22 * * *"
          filters:
            branches:
              only:
                - main
    jobs:
      - trigger-10invisible

  # System 3: 7unreliable - ODD hours
  system3-odd-hours:
    triggers:
      - schedule:
          cron: "0 1,3,5,7,9,11,13,15,17,19,21,23 * * *"
          filters:
            branches:
              only:
                - main
    jobs:
      - trigger-7unreliable

jobs:
  trigger-10invisible:
    docker:
      - image: cimg/python:3.10
    steps:
      - run:
          name: Trigger 10invisible Kaggle Notebook
          command: |
            pip install kaggle
            mkdir -p ~/.kaggle
            echo '{"username":"'$KAGGLE_USERNAME'","key":"'$KAGGLE_KEY'"}' > ~/.kaggle/kaggle.json
            chmod 600 ~/.kaggle/kaggle.json
            
            echo "ðŸš€ Triggering 10invisible notebook..."
            kaggle kernels pull solomonoffor/10invisible -p /tmp/kernel
            cd /tmp/kernel
            kaggle kernels push
            echo "âœ… Triggered!"

  trigger-7unreliable:
    docker:
      - image: cimg/python:3.10
    steps:
      - run:
          name: Trigger 7unreliable Kaggle Notebook
          command: |
            pip install kaggle
            mkdir -p ~/.kaggle
            echo '{"username":"'$KAGGLE_USERNAME'","key":"'$KAGGLE_KEY'"}' > ~/.kaggle/kaggle.json
            chmod 600 ~/.kaggle/kaggle.json
            
            echo "ðŸš€ Triggering 7unreliable notebook..."
            kaggle kernels pull solomonoffor/7unreliable -p /tmp/kernel  
            cd /tmp/kernel
            kaggle kernels push
            echo "âœ… Triggered!"
```

---

## ðŸŽ¯ **THAT'S IT! JUST 3 THINGS:**

1. **CircleCI wakes up every 2 hours**
2. **Calls Kaggle API to trigger your notebook** (like you'd do manually)
3. **Your notebook runs on Kaggle** (with all your code intact)

---

## âœ… **WHAT YOU DO NOW:**

1. **Update your `.circleci/config.yml`** with the simple code above
2. **Make sure your environment variables are set:**
   - `KAGGLE_USERNAME` = `solomonoffor`
   - `KAGGLE_KEY` = `2ecbefc451859f24f29fc80e45681d59`
3. **That's it!**

---

## ðŸ“Š **HOW IT WORKS:**
```
12:00 AM â†’ CircleCI triggers 10invisible
          â†’ Kaggle API receives trigger
          â†’ Your 10invisible notebook runs
          â†’ Processes 10 videos
          â†’ Posts to Facebook
          â†’ Done!

01:00 AM â†’ CircleCI triggers 7unreliable
          â†’ Kaggle API receives trigger
          â†’ Your 7unreliable notebook runs
          â†’ Processes 7 videos
          â†’ Posts to Facebook
          â†’ Done!

02:00 AM â†’ CircleCI triggers 10invisible again
          ...and so on
