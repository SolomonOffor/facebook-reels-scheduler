version: 2.1

jobs:
  test-kaggle-connection:
    docker:
      - image: cimg/python:3.10
    steps:
      - checkout
      - run:
          name: Show Environment Info
          command: |
            echo "üß™ Testing CircleCI Setup..."
            echo "Python version: $(python --version)"
            echo "Current directory: $(pwd)"
            echo "Directory contents:"
            ls -la
      - run:
          name: Install Kaggle API
          command: |
            pip install kaggle
            echo "‚úÖ Kaggle API installed"
      - run:
          name: Test Kaggle Configuration
          command: |
            mkdir -p ~/.kaggle
            echo "Testing credentials..."
            if [ -n "$KAGGLE_USERNAME" ] && [ -n "$KAGGLE_KEY" ]; then
              echo "‚úÖ Environment variables are set"
              echo "Username: $KAGGLE_USERNAME"
              echo "Key: ${KAGGLE_KEY:0:10}..."  # Show first 10 chars only
            else
              echo "‚ùå Environment variables missing!"
              exit 1
            fi

workflows:
  simple-test:
    jobs:
      - test-kaggle-connection
